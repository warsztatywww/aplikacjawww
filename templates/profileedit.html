{% extends "base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
  <div class="container">
    <div id="profile_content" class="col-sm-12 maincontent" style="display: block;">
      <h1>{{ title }}</h1>

        <div id="pagination_content">
          <div title="Dane" id="data">
            <form id="profile_data_form" action="#data" method="post" class="form-horizontal">
              <input type="hidden" name="page" value="data">
              {% include "_profilesubmit.html" %}
              {% csrf_token %}
              {% crispy user_form %}
              {% crispy user_profile_form %}
            </form>
          </div>
          <div title="Strona profilowa" id="profile_page">
            <form action="#profile_page" method="post" class="form">
              <input type="hidden" name="page" value="profile_page">
              {% csrf_token %}
              {% include "_profilesubmit.html" %}
              {% crispy user_profile_page_form %}
            </form>
          </div>
          <div title="List motywacyjny" id="cover_letter">
            <p>Napisz (w 50 - 1000 słowach) odnosząc się do każdego punktu w oddzielnym paragrafie:</p>
            <ol>
              <li>Opisz swoje główne zainteresowania naukowe.
              Mile widziany będzie szczegółowy opis (jeśli interesujesz się
              matematyką - jaka dziedzina interesuje Cię najbardziej;
              jeśli programowaniem - co i w czym programujesz etc.).</li>
              <li>W jaki sposób rozwijasz zainteresowania z punktu 1.?
              Napisz, jakie książki czytasz, jakiego typu zadania i problemy
              rozwiązujesz itd. Jeśli masz własne projekty, prace,
              przeprowadzasz doświadczenia, piszesz własne programy -
              opisz je. Jeśli jesteś w Krajowym Funduszu na rzecz Dzieci,
              opisz krótko, co robisz w ramach programu.</li>
              <li>Jeśli interesujesz się czymś nie stricte naukowym
              (spoza tematyki mat/fiz/inf) lub angażujesz się w inne
              inicjatywy, opisz je pokrótce.</li>
              <li>Jeśli bierzesz udział w konkursach lub olimpiadach,
              opisz swoje dokonania (udział, nagrody).</li>
              <li>O których ze swoich zainteresowań najchętniej
              opowiedziałbyś innym?</li>
              <li>Czego oczekujesz od swojego udziału w Warsztatach,
              co skłoniło Cię do zgłoszenia się? Jeśli masz ochotę
              wnieść coś do Warsztatów (zorganizować coś, wygłosić
              wieczorny wykład itd.), opisz to.</li>
              <li>Tutaj możesz napisać cokolwiek, co nie mieści się w
              punktach 1-6.</li>
            </ol>
            <form action="#cover_letter" method="post" class="form">
              <input type="hidden" name="page" value="cover_letter">
              {% csrf_token %}
              <button class="btn btn-default big-button">Zapisz</button>
              {% crispy user_cover_letter_form %}
            </form>
          </div>
          <div title="Informacje" id="user_info">
            <form action="#user_info" method="post" class="form-horizontal">
              <input type="hidden" name="page" value="user_info">
              {% csrf_token %}
              <button class="btn btn-default big-button">Zapisz</button>
              {% crispy user_info_page_form %}
            </form>
          </div>
        </div>
    </div>
  </div>
{% endblock %}

{% block script %}
  {{ block.super }}
  <script src="{% static 'js/jquery.content_pagination.js' %}"></script>

  <script>
  /* Fixes a bug in django-tinymce with TINYMCE_INCLUDE_JQUERY = False, see https://github.com/aljosa/django-tinymce/issues/234 */
  var django = {jQuery: jQuery};
  </script>
  {{ user_form.media }}
  {{ user_profile_form.media }}
  {{ user_profile_page_form.media }}
  {{ user_cover_letter_form.media }}
  {{ user_info_page_form.media }}

  <script>
    $(document).ready(function() {
      paginate_content("pagination_content");

      if(["#data", "#profile_page", "#cover_letter", "#user_info"].indexOf(location.hash) != -1) {
          go_to_page("pagination_content_navigation", location.hash.slice(1));
      }
    });
  </script>
{% endblock %}
